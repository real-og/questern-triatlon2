import json
import asyncio
from aiogram import Bot, Dispatcher, types
from aiogram.utils.exceptions import BotBlocked, ChatNotFound
from loader import BOT_TOKEN


bot = Bot(token=BOT_TOKEN)
dp = Dispatcher(bot)

async def main():
    user_ids = [520251635, 6150574145]
    text = """–ù–∞ —Å—Ç–∞—Ä—Ç, –≤–Ω–∏–º–∞–Ω–∏–µ... ! üî• –¢—Ä–∏–∞—Ç–ª–æ–Ω-–∫–≤–µ—Å—Ç –ø–æ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—É —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å! üöÄ  –í–ø–µ—Ä–µ–¥–∏ –∫—Ä—É—Ç–æ–π –º–∞—Ä—à—Ä—É—Ç, –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∑–∞–≥–∞–¥–∫–∏ –∏ –º–æ—Ä–µ –¥—Ä–∞–π–≤–∞!‚ö°Ô∏è

–ù–µ –∑–∞–±—É–¥—å:  
‚úÖ –£–¥–æ–±–Ω–∞—è –æ–±—É–≤—å  
‚úÖ –ó–∞—Ä—è–∂–µ–Ω–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω  
‚úÖ –°–ø–æ—Ä—Ç–∏–≤–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ  

–ñ–¥—É —Ç–µ–±—è –Ω–∞ —Å—Ç–∞–¥–∏–æ–Ω–µ ¬´–î–∏–Ω–∞–º–æ¬ª –Ω–∞ —è—Ä–º–∞—Ä–∫–µ (–≠–ö–°–ü–û) IRONSTAR.
‚ö°Ô∏è 56.845516, 60.601278‚ö°Ô∏è

–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç, –∂–º–∏ üëâ /begin

‚òùÔ∏è –ù–∞–ø–æ–º–Ω—é, —á—Ç–æ –ø—Ä–æ–π—Ç–∏ –∫–≤–µ—Å—Ç —Ç—ã –º–æ–∂–µ—à—å –≤ –ª—é–±–æ–π –¥–µ–Ω—å —Å 27 –ø–æ 29 –∏—é–Ω—è 2025. –ì–ª–∞–≤–Ω–æ–µ - —Ñ–∏–Ω–∏—à–∏—Ä—É–π –Ω–µ –ø–æ–∑–¥–Ω–µ–µ 17:00 –≤ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 29 –∏—é–Ω—è. 
–£–≤–∏–¥–∏–º—Å—è –Ω–∞ —Å—Ç–∞—Ä—Ç–µ! üòé"""
    for user_id in user_ids:
        try:
            await bot.send_message(user_id, text)
            print(f"‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ {user_id}")
            await asyncio.sleep(0.5)  # –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Å–ø–∞–º–∞
        except BotBlocked:
            print(f"‚õî –ë–æ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º {user_id}")
        except ChatNotFound:
            print(f"‚ùå –ß–∞—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –¥–ª—è {user_id}")
        except Exception as e:
            print(f"‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ {user_id}: {e}")

    await bot.close()

if __name__ == "__main__":
    asyncio.run(main())